<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Employe POSITIF - Accueeil</title>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="newCascadeStyleSheet.css">
    </head>
    <body>    
        <div id='connection' style='text-align: center'>
            <h1> S'identifier </h1>
            <input type ="text" id='champ-login' placeholder="votre identifiant"> <br>
            <input type="password" id="champ-password" placeholder="mdp"> <br>
            <button id="bouton-connexion">Se connecter</button>   
            <div id="message"></div>
        </div>
        <script>
             
            function connexion() {
                
                $('#message').html('Connexion en cours');
                
                $.ajax({
                    url: './ActionServlet',
                    method: 'POST',
                    data: {
                        action: 'seConnecterEmp',
                        loginEmp: $('#champ-login').val(),
                        mdpEmp: $('#champ-password').val()
                    },
                   dataType: 'json'
                }).done(function (data) {
                    window.location='MenuEmp.html';
                }).fail(function(){
                    $('#message').html('Echec de connexion');
                });
            }
            
            
            $(document).ready(function () {
                // ajout d'un "handler" sur le clic du bouton de connexion
                $('#bouton-connexion').on('click', function () {
                    // affichage pour debugage dans la console javascript du navigateur
                    console.log('Click sur le bouton "Se Connecter"');
                    // appel de la fonction connexion
                    connexion();
                });
            });
        </script>
        
    </body>
    
     
</html>
